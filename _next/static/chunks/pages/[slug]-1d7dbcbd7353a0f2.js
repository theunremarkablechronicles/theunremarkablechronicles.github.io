(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{1587:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return i(8292)}])},8292:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSG:function(){return y},default:function(){return _}});var n=i(5893),c=i(6089),s=i.n(c),l=i(1163),o=i(6550),a=i(5245),d=i(1199),r=i(2878),u=i(4598),h=i.n(u),p=i(7294),m=i(7525),x=i(1319),v=i(637),j=function(e){var t=e.code,i=e.language,c=void 0===i?"javascript":i;"basic"===(c=c.toLowerCase().replace(/\s+/g,""))&&(c="toml");var l=t.map((function(e,t){return"text"===e.type?e.plain_text:(console.warn("unexpected rich text item in code block",e),null)})).join("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("pre",{className:"jsx-8e441642cd999c60",children:(0,n.jsx)("code",{dangerouslySetInnerHTML:{__html:v.Z.highlight(l,{language:c}).value},className:"jsx-8e441642cd999c60"})}),(0,n.jsx)(s(),{id:"8e441642cd999c60",children:"pre.jsx-8e441642cd999c60{-moz-tab-size:2;-o-tab-size:2;tab-size:2}code.jsx-8e441642cd999c60{overflow:auto;display:block;padding:.8rem;line-height:1.5;background:#f5f5f5;font-size:.75rem;-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius)}"})]})},g=i(8670),f=i.n(g);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],c=["1","a","i"],l=[],o=[],a=!0,d=!1,r=void 0;try{for(var u,v=e[Symbol.iterator]();!(a=(u=v.next()).done);a=!0){var g,f=u.value,y="column_list"!==f.type&&(null===(g=f.children)||void 0===g?void 0:g.length)>0?b(f.children,t+1):[];switch("numbered_list_item"!==f.type&&l.length>0&&(i.push((0,n.jsx)("ol",{type:c[t]||"1",children:l},l[0].key)),l=[]),"bulleted_list_item"!==f.type&&o.length>0&&(i.push((0,n.jsx)("ul",{children:o},o[0].key)),o=[]),f.type){case"paragraph":i.push((0,n.jsxs)("p",{children:[(0,n.jsx)(x.Z,{text:f.paragraph.text}),y]},f.id));break;case"code":i.push((0,n.jsx)(j,{code:f.code.text,language:f.code.language},f.id));break;case"callout":var _;i.push((0,n.jsxs)("div",{className:"callout",children:["emoji"===(null===(_=f.callout.icon)||void 0===_?void 0:_.type)&&(0,n.jsx)("div",{children:f.callout.icon.emoji}),(0,n.jsx)("div",{className:"text",children:(0,n.jsx)(x.Z,{text:f.callout.text})})]},f.id));break;case"quote":i.push((0,n.jsx)("blockquote",{children:(0,n.jsx)(x.Z,{text:f.quote.text})},f.id));break;case"image":case"video":var w,k=null,N=(0,m.gZ)(f),E=(0,m.eH)(f),Z=N.caption?null===(w=N.caption[N.caption.length-1])||void 0===w?void 0:w.plain_text:null,S=(null===Z||void 0===Z?void 0:Z.match(/\d+(%|px|vw|vh|vmin|vmax)/g))?Z:null;if("image"===f.type&&E){var L=null,z=null;/^.*\.(png|jpe?g)$/.test(E)&&(L="images/".concat(E,".optimized.jpg"),z="images/".concat(E,".optimized.webp")),k=(0,n.jsxs)("picture",{children:[z&&(0,n.jsx)("source",{srcSet:z,type:"image/webp"}),(0,n.jsx)("source",{srcSet:L}),(0,n.jsx)("img",{src:L,className:h().postMedia})]})}else"video"===f.type&&E?k=(0,n.jsx)("video",{src:"images/".concat(E),loop:!0,muted:!0,autoPlay:!0,playsInline:!0}):(console.warn("failed to work out media for block of type ".concat(f.type)),k=(0,n.jsx)("div",{style:{color:"red"},children:"Media type missing."}));var C=(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("figure",{className:s().dynamic([["e50d189f6baa7ee6",[S||"100%"]]]),children:[k,(null===N||void 0===N?void 0:N.caption)?(0,n.jsx)("figcaption",{className:s().dynamic([["e50d189f6baa7ee6",[S||"100%"]]]),children:(0,n.jsx)(x.Z,{text:N.caption.slice(0,S?-1:void 0)})}):""]}),(0,n.jsx)(s(),{id:"e50d189f6baa7ee6",dynamic:[S||"100%"],children:"figure.__jsx-style-dynamic-selector{max-width:100%;width:".concat(S||"100%","}figure.__jsx-style-dynamic-selector>img,video{display:block;width:100%;border:none}")})]},f.id);i.push(C);break;case"heading_1":i.push((0,n.jsx)("h1",{children:(0,n.jsx)(x.Z,{text:f.heading_1.text})},f.id));break;case"heading_2":i.push((0,n.jsx)("h2",{children:(0,n.jsx)(x.Z,{text:f.heading_2.text})},f.id));break;case"heading_3":i.push((0,n.jsx)("h3",{children:(0,n.jsx)(x.Z,{text:f.heading_3.text})},f.id));break;case"bulleted_list_item":o.push((0,n.jsxs)("li",{children:[(0,n.jsx)(x.Z,{text:f.bulleted_list_item.text}),y]},f.id));break;case"numbered_list_item":l.push((0,n.jsxs)("li",{children:[(0,n.jsx)(x.Z,{text:f.numbered_list_item.text}),y]},f.id));break;case"to_do":i.push((0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-ff6a12e0ca77cf25",children:[(0,n.jsx)("input",{type:"checkbox",checked:f.to_do.checked,readOnly:!0,className:"jsx-ff6a12e0ca77cf25"}),(0,n.jsx)(x.Z,{text:f.to_do.text})]}),y,(0,n.jsx)(s(),{id:"ff6a12e0ca77cf25",children:'input[type="checkbox"][disabled].jsx-ff6a12e0ca77cf25{pointer-events:none}'})]},f.id));break;case"divider":i.push((0,n.jsx)("hr",{},f.id));break;case"column_list":i.push((0,n.jsx)("div",{className:h().columnContainer,children:f.children.map((function(e){return(0,n.jsx)("div",{className:h().column,children:b(e.children)})}))},f.id));break;case"column":throw new Error("'column' type found in elements list, which should not happen.");default:i.push((0,n.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:(0,n.jsxs)("i",{children:["\ufe0f\u26d4\ufe0f Unrendered block (type: ",f.type,")"]})},f.id)),console.log(f)}}}catch(H){d=!0,r=H}finally{try{a||null==v.return||v.return()}finally{if(d)throw r}}return l.length>0&&i.push((0,n.jsx)("ol",{type:c[t]||"1",children:l},l[0].key)),o.length>0&&i.push((0,n.jsx)("ul",{children:o},o[0].key)),i}var y=!0,_=function(e){var t,i,c=e.post,s=e.redirect,u=(0,l.useRouter)();if((0,p.useEffect)((function(){s&&!c&&u.replace(s)}),[s,c]),(0,p.useEffect)((function(){var e=function(e,t){var i,n,s,l;!c[e]&&window.location.href.startsWith(f().baseUrl)&&"function"===typeof(null===(i=window)||void 0===i||null===(n=i.goatcounter)||void 0===n?void 0:n.count)&&(null===(s=window)||void 0===s||null===(l=s.goatcounter)||void 0===l||l.count({path:"/".concat(window.location.pathname).concat(window.location.search,"/").concat(e),title:"".concat(t,": ").concat(document.title),event:!0}),c[e]=!0)},t=Date.now(),i="visible"===document.visibilityState?Date.now():0,n=!1,c={};function s(){var t=document.documentElement,i=document.body,n="scrollTop",c="scrollHeight";(t[n]||i[n])/((t[c]||i[c])-t.clientHeight)*100>10&&(document.removeEventListener("scroll",s),e("started-scroll","Scrolled 10% of page"))}function l(){var t=document.documentElement,i=document.body,c="scrollTop",s="scrollHeight";(t[c]||i[c])/((t[s]||i[s])-t.clientHeight)*100>90&&(n=!0,document.removeEventListener("scroll",l),e("finished-scroll","Scrolled 90% of the page"))}document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?i=Date.now():(i>0&&+Date.now()-i,i=0)})),document.addEventListener("scroll",l),document.addEventListener("scroll",s);var o=setInterval((function(){var i=null,s=Date.now();!c["2-minute"]&&s-t>12e4&&(i="2-minute"),!c["5-minute"]&&s-t>3e5&&(i="5-minute"),!c["10-minute"]&&s-t>6e5&&(i="10-minute"),null!=i&&e(i,"Stayed on page (".concat(i,")")),c["5-minute"]&&n&&e("completed-read","Completed read")}),1e3);return function(){document.removeEventListener("scroll",s),document.removeEventListener("scroll",l),clearInterval(o)}}),[]),u.isFallback)return(0,n.jsx)("div",{children:"Loading..."});if(!c)return(0,n.jsx)("div",{className:h().post,children:(0,n.jsx)("p",{children:"Woops! didn't find that post, redirecting you back to the blog index"})});var x=b(c.blocks);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{titlePre:c.title,description:c.subtitle,path:u.asPath,ogImage:"".concat(f().baseUrl,"/images/").concat((0,m.po)(null===(i=c.cover[null===(t=c.cover)||void 0===t?void 0:t.type])||void 0===i?void 0:i.url,c.id),".optimized.jpg")}),(0,n.jsx)(d.Z,{compact:!0}),(0,n.jsx)("div",{className:h().blogContainer,children:(0,n.jsxs)("div",{className:"".concat(h().post),children:[(0,n.jsx)(o.Z,{post:c}),(0,n.jsx)("div",{className:h().title,children:c.title||""}),c.subtitle&&(0,n.jsx)("div",{className:h().subtitle,children:c.subtitle}),(0,n.jsx)(r.Z,{post:c}),(0,n.jsxs)("div",{className:h().postContent,children:[0===x.length&&(0,n.jsx)("p",{children:"This post has no content"}),x]})]})})]})}}},function(e){e.O(0,[456,637,366,774,888,179],(function(){return t=1587,e(e.s=t);var t}));var t=e.O();_N_E=t}]);